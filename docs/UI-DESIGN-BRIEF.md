# Meme Perp DEX - UI 设计简报

> 专业的 Meme 代币永续合约交易平台 UI 设计指南
>
> **适用工具**: Pencil, Figma, Sketch, Adobe XD, v0.dev, Midjourney
>
> **设计目标**: 打造媲美 OKX、Bybit、GMX 的专业交易界面

---

## 📋 目录

1. [项目概述](#1-项目概述)
2. [设计原则](#2-设计原则)
3. [颜色系统](#3-颜色系统)
4. [字体系统](#4-字体系统)
5. [布局结构](#5-布局结构)
6. [组件设计](#6-组件设计)
7. [页面设计](#7-页面设计)
8. [交互设计](#8-交互设计)
9. [Pencil 具体操作](#9-pencil-具体操作)

---

## 1. 项目概述

### 产品定位
**Meme Perp DEX** - 专注于 Meme 代币的永续合约去中心化交易所

### 核心功能
- 📊 Meme 代币现货交易（Pump.fun 模式）
- 📈 多代币永续合约交易（最高 50x 杠杆）
- 🎯 实时清算地图和猎人系统
- 🏆 FOMO 事件和交易排行榜
- 💰 资金费率机制
- 🔐 USDT 保证金交易

### 目标用户
- 加密货币交易者（中高级）
- Meme 币投机者
- 永续合约玩家
- 清算猎人

### 对标产品
- **OKX** - 整体 UI 风格
- **Bybit** - 交易终端布局
- **GMX** - 仓位管理界面
- **Pump.fun** - Meme 币发行机制

---

## 2. 设计原则

### 核心原则

#### 1. 专业性优先
```
❌ 错误: 花哨动画、卡通风格、过度装饰
✅ 正确: 简洁、数据密集、高效布局
```

#### 2. 数据可视化
```
❌ 错误: 隐藏关键数据、需要点击才能看到价格
✅ 正确: 所有关键数据一屏可见（价格、盈亏、保证金率、强平价）
```

#### 3. 速度感
```
❌ 错误: 慢速动画、延迟加载、多步操作
✅ 正确: 即时响应、快速切换、一键操作
```

#### 4. 风险提示
```
❌ 错误: 默默执行高风险操作
✅ 正确: 强平价醒目显示、高杠杆红色警告、确认对话框
```

### 设计语言

**关键词**: 暗黑、锐利、数据密集、专业、快速

**灵感来源**:
- 交易终端软件（TradingView, Bloomberg Terminal）
- 军事雷达界面（高对比度、快速识别）
- 赛博朋克美学（霓虹色、几何图形）

---

## 3. 颜色系统

### 主色调

```css
/* 背景色 (深色主题) */
--bg-primary: #0a0e16;      /* 主背景 - 深蓝黑 */
--bg-secondary: #12161f;    /* 卡片背景 */
--bg-card: #181d28;         /* 组件背景 */
--bg-hover: #1e2530;        /* 悬停状态 */

/* 文字色 */
--text-primary: #e8eaed;    /* 主文字 - 接近白色 */
--text-secondary: #9ca3af;  /* 次要文字 - 灰色 */
--text-tertiary: #6b7280;   /* 辅助文字 - 深灰 */
--text-disabled: #4b5563;   /* 禁用文字 */

/* 边框色 */
--border-primary: #2d3748;  /* 主边框 */
--border-secondary: #1e2530;/* 次要边框 */
```

### 功能色

```css
/* 涨跌色 (OKX 标准) */
--color-up: #00c087;        /* 涨/买入/做多 - 绿色 */
--color-down: #f23645;      /* 跌/卖出/做空 - 红色 */

/* 警告色 */
--color-warning: #f59e0b;   /* 警告 - 橙色 */
--color-danger: #ef4444;    /* 危险 - 亮红 */
--color-safe: #10b981;      /* 安全 - 青绿 */

/* 强调色 */
--color-primary: #3b82f6;   /* 主按钮 - 蓝色 */
--color-secondary: #8b5cf6; /* 次要按钮 - 紫色 */
--color-accent: #ec4899;    /* 强调色 - 粉色 */

/* 特殊色 */
--color-liquidation: #dc2626;  /* 清算 - 深红 */
--color-funding: #06b6d4;      /* 资金费率 - 青色 */
--color-graduated: #fbbf24;    /* 毕业代币 - 金色 */
```

### 色彩使用规则

| 场景 | 颜色 | 示例 |
|------|------|------|
| 涨幅 / 做多盈利 | `#00c087` | +12.5%, Long PnL: +$120 |
| 跌幅 / 做空盈利 | `#f23645` | -8.3%, Short PnL: -$50 |
| 保证金率 > 5% | `#10b981` | 保证金率: 15% (安全) |
| 保证金率 2-5% | `#f59e0b` | 保证金率: 3% (警告) |
| 保证金率 < 2% | `#ef4444` | 保证金率: 1.2% (危险) |
| 强平价格 | `#dc2626` | Liq Price: $0.85 |
| 买入按钮 | `#00c087` | Buy / Long |
| 卖出按钮 | `#f23645` | Sell / Short |

---

## 4. 字体系统

### 字体家族

```css
/* 主字体 - 数字和英文 */
--font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

/* 数字字体 - 等宽字体用于价格显示 */
--font-mono: 'JetBrains Mono', 'Fira Code', 'Roboto Mono', monospace;

/* 中文字体 */
--font-chinese: 'PingFang SC', 'Microsoft YaHei', 'Noto Sans SC', sans-serif;
```

### 字号规范

```css
/* 价格 / 关键数字 */
--text-4xl: 36px;   /* 主价格 */
--text-3xl: 30px;   /* 大额数字 */
--text-2xl: 24px;   /* 标题 */
--text-xl: 20px;    /* 副标题 */

/* 正文 */
--text-lg: 16px;    /* 大正文 */
--text-base: 14px;  /* 标准正文 */
--text-sm: 13px;    /* 小正文 */
--text-xs: 12px;    /* 辅助文字 */
--text-2xs: 10px;   /* 标签 */
```

### 字重规范

```css
--font-bold: 700;      /* 标题、价格 */
--font-semibold: 600;  /* 按钮、强调 */
--font-medium: 500;    /* 正文 */
--font-regular: 400;   /* 次要文字 */
```

### 使用示例

| 元素 | 字体 | 字号 | 字重 | 颜色 |
|------|------|------|------|------|
| 当前价格 | Mono | 36px | Bold | --text-primary |
| 涨跌幅 | Mono | 20px | Semibold | --color-up/down |
| 代币符号 | Inter | 16px | Bold | --text-primary |
| 仓位大小 | Mono | 14px | Medium | --text-primary |
| 标签文字 | Inter | 12px | Regular | --text-secondary |

---

## 5. 布局结构

### 主页面布局 (perp/page.tsx)

#### 布局 A: 6列榜单 (代币列表页)

```
┌─────────────────────────────────────────────────────────┐
│                         Navbar                          │
├──────┬──────┬──────┬──────┬──────┬──────────────────────┤
│ 🔥   │ 🆕   │ 📈   │ 📉   │ 💰   │ 📊                   │
│ 热门  │ 新币  │ 涨幅榜│ 跌幅榜│ 市值榜│ 交易量榜              │
│      │      │      │      │      │                      │
│ 1. 🐸│ 1. 🐶│ 1. 🌙│ 1. 🔻│ 1. 👑│ 1. 💎                │
│ PEPE │ DOGE │ MOON │ RUG  │ SHIB │ PUMP                 │
│ $1.2M│ $0.8M│+125% │-45%  │ $5.2M│ $2.1M                │
│      │      │      │      │      │                      │
│ 2. 🐕│ 2. 🦊│ 2. 🚀│ 2. 💀│ 2. 🐱│ 2. 🔥                │
│ ...  │ ...  │ ...  │ ...  │ ...  │ ...                  │
│      │      │      │      │      │                      │
│ (10项)│(10项)│(10项)│(10项)│(10项)│(10项)                │
└──────┴──────┴──────┴──────┴──────┴──────────────────────┘
```

**尺寸**: 每列宽度 240px, 高度 600px, 间距 12px

#### 布局 B: 交易终端 (点击代币后)

```
┌────────────────────────────────────────────────────────────────┐
│                            Navbar                              │
│ ← Back  |  🐸 PEPE/USDT  |  $0.00085 (+12.5%)                │
├──────────────────────────┬─────────────────────────────────────┤
│                          │  📊 订单面板                        │
│                          │                                     │
│    📈 K线图               │  [  Market  |  Limit  ]            │
│    (TradingView 样式)     │                                     │
│                          │  做多 / 做空  [Toggle]              │
│                          │                                     │
│    价格: $0.00085         │  金额: [_______] USDT              │
│    24h: +12.5%           │  杠杆: [5x ▼]  (1x - 50x)          │
│    成交量: $1.2M          │                                     │
│                          │  预计开仓价: $0.00086               │
│                          │  强平价格: $0.00042                 │
│    (800x500 px)          │  预计费用: 0.5 USDT                │
│                          │                                     │
│                          │  [ 买入做多 ] 或 [ 卖出做空 ]       │
│                          │                                     │
├──────────────────────────┼─────────────────────────────────────┤
│  💼 我的仓位              │  📜 订单簿                          │
│                          │                                     │
│  代币  |方向|大小|入场价  │  卖单 (红色)                        │
│  PEPE |多头|$500|$0.0008 │  $0.00087  150 USDT                │
│  盈亏: +$60 (+12%)       │  $0.00086  200 USDT                │
│  保证金率: 15%           │  -------- $0.00085 (当前价) -------│
│  强平价: $0.00040        │  $0.00084  180 USDT                │
│                          │  $0.00083  120 USDT                │
│  [ 平仓 ] [ 加仓 ]       │  买单 (绿色)                        │
│                          │                                     │
└──────────────────────────┴─────────────────────────────────────┘
```

**尺寸**:
- K线图: 800x500px
- 订单面板: 400x500px
- 仓位面板: 800x300px
- 订单簿: 400x300px

---

## 6. 组件设计

### 6.1 代币卡片 (Token Card)

**用途**: 榜单中的每个代币条目

**尺寸**: 240x60px

**结构**:
```
┌──────────────────────────────────┐
│ 1  🐸  PEPE      $1.2M           │
│    ●                +12.5%       │
└──────────────────────────────────┘
```

**详细规范**:
1. **排名** (左侧 20px)
   - 字体: Inter Bold 12px
   - 颜色: 前3名 `#00c087`, 其余 `#6b7280`
   - 对齐: 居中

2. **图标** (24x24px)
   - 圆角: 4px
   - 边框: 1px `#2d3748`
   - 如果无图标: 使用 Dicebear Identicon

3. **状态指示点** (左下角 8x8px)
   - 可交易: 绿色 `#10b981`
   - 链上未启用: 黄色 `#f59e0b`
   - 不在链上: 灰色 `#6b7280`

4. **代币符号**
   - 字体: Inter Medium 13px
   - 颜色: `#e8eaed`
   - 最大宽度: 80px, 溢出显示 `...`

5. **市值/涨跌幅** (右侧)
   - 字体: JetBrains Mono Medium 12px
   - 颜色: 市值 `#9ca3af` | 涨跌幅 `#00c087` / `#f23645`

6. **悬停效果**
   - 背景: `#1e2530`
   - 光标: `pointer`
   - 过渡: 150ms ease

### 6.2 订单面板 (Order Panel)

**尺寸**: 400x600px

**区域划分**:
```
┌────────────────────────────────┐
│ Header (40px)                  │
│ [ Market | Limit | Stop ]      │
├────────────────────────────────┤
│ Direction Toggle (50px)        │
│ [  🟢 Long  |  🔴 Short  ]     │
├────────────────────────────────┤
│ Input Section (200px)          │
│  Amount: [_______] USDT        │
│  Leverage: [5x ▼]              │
│  Slider: ─●─────────           │
├────────────────────────────────┤
│ Info Section (150px)           │
│  Entry Price: $0.00085         │
│  Liq. Price:  $0.00042 (红色)  │
│  Est. Fee:    0.5 USDT         │
│  Margin Ratio: 15% (绿色条)    │
├────────────────────────────────┤
│ Action Button (60px)           │
│  [ 买入做多 ] 或 [ 卖出做空 ]  │
│  (全宽, 高 48px, 圆角 8px)     │
├────────────────────────────────┤
│ Risk Warning (100px)           │
│  ⚠️ 高杠杆风险提示             │
│  最高 50x 杠杆可能导致快速爆仓 │
└────────────────────────────────┘
```

**详细规范**:

1. **方向切换按钮**
   - 未选中: 背景 `#181d28`, 文字 `#9ca3af`
   - 选中做多: 背景 `#00c08720`, 文字 `#00c087`, 边框 `#00c087`
   - 选中做空: 背景 `#f2364520`, 文字 `#f23645`, 边框 `#f23645`
   - 高度: 40px
   - 圆角: 6px

2. **金额输入框**
   - 背景: `#181d28`
   - 边框: 1px `#2d3748`
   - 聚焦边框: `#3b82f6`
   - 文字: JetBrains Mono 16px `#e8eaed`
   - 高度: 48px
   - 占位符: "Enter amount..."

3. **杠杆选择器**
   - 下拉菜单: 1x, 2x, 5x, 10x, 20x, 30x, 50x
   - 背景: `#181d28`
   - 边框: `#2d3748`
   - 当前值: JetBrains Mono Bold 16px
   - 警告: 杠杆 > 20x 显示黄色 `#f59e0b`

4. **杠杆滑块**
   - 轨道: 高度 4px, 背景 `#2d3748`
   - 滑块: 圆形 16px, 背景 `#3b82f6`
   - 填充色: `#3b82f660` (半透明蓝)
   - 刻度: 1x, 5x, 10x, 20x, 50x

5. **信息显示**
   - 标签: Inter Regular 12px `#9ca3af`
   - 数值: JetBrains Mono Medium 14px `#e8eaed`
   - 强平价格: 红色 `#dc2626` + 红色背景高亮
   - 行高: 28px

6. **买入/卖出按钮**
   - 做多: 背景 `#00c087`, 悬停 `#00d494`
   - 做空: 背景 `#f23645`, 悬停 `#ff4757`
   - 文字: 黑色 `#000000` Bold 16px
   - 高度: 48px
   - 圆角: 8px
   - 阴影: 0 4px 12px rgba(0,192,135,0.3) (做多) / rgba(242,54,69,0.3) (做空)

### 6.3 仓位卡片 (Position Card)

**尺寸**: 800x120px

**结构**:
```
┌────────────────────────────────────────────────────────────┐
│ 🐸 PEPE/USDT          多头 5x            状态: 盈利         │
│                                                            │
│ 开仓价: $0.00080     当前价: $0.00085      强平价: $0.00040│
│ 大小: $500 USDT      盈亏: +$60 (+12%)     保证金: $100     │
│                                                            │
│ 保证金率: ████████░░ 15%                 ✅ 安全           │
│                                                            │
│ [ 加仓 ]  [ 平仓 ]  [ 止盈止损 ]                           │
└────────────────────────────────────────────────────────────┘
```

**详细规范**:

1. **标题行**
   - 代币图标: 32x32px
   - 代币符号: Inter Bold 16px
   - 方向: 做多 `#00c087` / 做空 `#f23645` Badge
   - 杠杆: 灰色 `#6b7280` 小字
   - 状态: 盈利 `#10b981` / 亏损 `#ef4444`

2. **数据行** (2行)
   - 标签: Inter Regular 12px `#9ca3af`
   - 数值: JetBrains Mono Medium 14px `#e8eaed`
   - 盈亏: 涨跌色 + 百分比
   - 强平价: 红色背景高亮

3. **保证金率进度条**
   - 高度: 8px
   - 圆角: 4px
   - 背景: `#2d3748`
   - 填充色:
     - > 10%: `#10b981` (安全)
     - 5-10%: `#f59e0b` (警告)
     - < 5%: `#ef4444` (危险)
   - 动画: 闪烁 (< 5% 时)

4. **操作按钮**
   - 次要按钮: 背景 `#181d28`, 边框 `#2d3748`
   - 平仓按钮: 背景 `#f23645`, 文字白色
   - 高度: 36px
   - 圆角: 6px
   - 间距: 8px

### 6.4 K线图 (Price Chart)

**库**: TradingView Lightweight Charts

**尺寸**: 800x500px

**配置**:
```javascript
{
  layout: {
    background: { color: '#0a0e16' },
    textColor: '#9ca3af',
  },
  grid: {
    vertLines: { color: '#1e2530' },
    horzLines: { color: '#1e2530' },
  },
  crosshair: {
    mode: 1, // Magnet mode
  },
  priceScale: {
    borderColor: '#2d3748',
  },
  timeScale: {
    borderColor: '#2d3748',
    timeVisible: true,
    secondsVisible: false,
  },
  candlestick: {
    upColor: '#00c087',
    downColor: '#f23645',
    wickUpColor: '#00c087',
    wickDownColor: '#f23645',
  }
}
```

**功能**:
- 时间周期: 1m, 5m, 15m, 1h, 4h, 1d
- 指标: MA, EMA, BOLL, RSI, MACD
- 标记: 显示开仓/平仓点位
- 强平线: 红色虚线 `#dc2626`

### 6.5 清算地图 (Liquidation Map)

**尺寸**: 800x400px

**类型**: 热力图 (Heatmap)

**结构**:
```
Price (↑)
  │
  │  🔴🔴🔴🔴🔴🔴  ← $0.00090 (空头清算密集区)
  │
  │  🟢🟢         ← $0.00085 (当前价)
  │
  │  🟢🟢🟢🟢🟢🟢  ← $0.00080 (多头清算密集区)
  │
  └──────────────→ Volume
```

**配色**:
- 多头清算: `#00c087` (绿色渐变)
- 空头清算: `#f23645` (红色渐变)
- 当前价格: `#3b82f6` (蓝色虚线)
- 背景: `#0a0e16`

**数据显示**:
- X轴: 清算量 (USDT)
- Y轴: 价格
- Tooltip: 显示具体清算量和仓位数

---

## 7. 页面设计

### 7.1 主页 - 代币榜单页

**文件**: `frontend/src/app/perp/page.tsx`

**布局**: 6列榜单并排

**顶部导航**:
```
┌────────────────────────────────────────────────────────┐
│  Meme Perp DEX  |  市场  交易  仓位  排行榜  |  连接钱包│
└────────────────────────────────────────────────────────┘
```

**榜单设计**:

每个榜单:
- 标题栏: 40px 高度, 背景 `#181d28`
- 标题: Inter Bold 14px, 图标 + 文字
- 列表: 10 个代币卡片
- 滚动: 固定高度 600px, 溢出滚动

**榜单类型**:
1. 🔥 热门榜 (Hot) - 热度分数排序
2. 🆕 新币榜 (New) - 创建时间排序
3. 📈 涨幅榜 (Gainers) - 24h 涨幅排序
4. 📉 跌幅榜 (Losers) - 24h 跌幅排序
5. 💰 市值榜 (Market Cap) - 市值排序
6. 📊 交易量榜 (Volume) - 24h 交易量排序

**交互**:
- 点击代币 → 跳转到交易终端
- 悬停 → 显示更多信息 (Tooltip)
- 每 10 秒自动刷新数据

**空状态**:
```
┌────────────────────────┐
│                        │
│    📊                  │
│                        │
│   暂无代币数据          │
│                        │
│  [ 创建代币 ]           │
│                        │
└────────────────────────┘
```

### 7.2 交易终端页

**文件**: `frontend/src/components/trading/PerpetualTradingTerminal.tsx`

**布局**: 2x2 网格 + 顶部栏

**顶部信息栏** (1600x60px):
```
┌────────────────────────────────────────────────────────┐
│ ← 返回  |  🐸 PEPE/USDT  |  $0.00085  +12.5%  24h Vol: $1.2M │
└────────────────────────────────────────────────────────┘
```

**主区域布局**:
```
┌──────────────────┬──────────────────┐
│  K线图 (左上)     │  订单面板 (右上)  │
│  800x500px       │  400x500px       │
├──────────────────┼──────────────────┤
│  仓位列表 (左下)  │  订单簿 (右下)    │
│  800x400px       │  400x400px       │
└──────────────────┴──────────────────┘
```

**响应式设计**:
- 桌面 (>1400px): 2x2 网格
- 平板 (768-1400px): 2x2 网格, 缩小尺寸
- 手机 (<768px): 垂直堆叠

### 7.3 仓位管理页

**功能**: 查看所有当前仓位

**布局**: 列表 + 筛选

```
┌────────────────────────────────────────────────────────┐
│  我的仓位                      [ 全部 | 多头 | 空头 ]   │
├────────────────────────────────────────────────────────┤
│  代币    方向  大小   入场价  当前价  盈亏   保证金率    │
├────────────────────────────────────────────────────────┤
│  🐸 PEPE  多头  $500  $0.0008 $0.0009 +$60   15% ████  │
│  🐶 DOGE  空头  $300  $0.15   $0.14   +$20   12% ████  │
│  ...                                                   │
└────────────────────────────────────────────────────────┘
```

**统计卡片** (顶部):
```
┌──────────┬──────────┬──────────┬──────────┐
│ 总仓位    │ 总盈亏    │ 总保证金  │ 清算风险  │
│ $1,500   │ +$80     │ $300     │ 低       │
└──────────┴──────────┴──────────┴──────────┘
```

### 7.4 排行榜页

**功能**: FOMO 事件和交易员排行榜

**标签页**:
1. 🔥 FOMO 事件
2. 🏆 全球排行榜
3. 📊 代币排行榜
4. 🎯 清算猎人

**FOMO 事件卡片**:
```
┌────────────────────────────────────────┐
│  🐋 巨鲸开仓！                         │
│                                        │
│  0x1234...5678 开了 $5,000 PEPE 多头   │
│  杠杆: 20x                             │
│  开仓价: $0.00085                      │
│                                        │
│  2 分钟前                              │
└────────────────────────────────────────┘
```

**排行榜表格**:
```
┌─────┬──────────┬─────────┬─────────┬─────────┐
│ 排名│  交易员   │  总盈亏  │  胜率   │  交易量  │
├─────┼──────────┼─────────┼─────────┼─────────┤
│  1  │ 0x1234.. │ +$5,280 │  75%   │ $50,000 │
│  2  │ 0xabcd.. │ +$3,120 │  68%   │ $38,000 │
│ ... │   ...    │   ...   │  ...   │   ...   │
└─────┴──────────┴─────────┴─────────┴─────────┘
```

---

## 8. 交互设计

### 8.1 状态变化

#### 加载状态
```
┌────────────────┐
│                │
│   ⏳ 加载中...  │
│   ────●───     │
│                │
└────────────────┘
```
- 骨架屏优于 Spinner
- 加载动画: 脉冲 (pulse)
- 颜色: `#3b82f6`

#### 成功状态
```
┌────────────────┐
│   ✅ 成功       │
│  订单已提交     │
│  Hash: 0x123..│
└────────────────┘
```
- 绿色 `#10b981`
- 自动消失: 3秒
- 可点击查看详情

#### 错误状态
```
┌────────────────┐
│   ❌ 失败       │
│  余额不足       │
│  [ 确定 ]      │
└────────────────┘
```
- 红色 `#ef4444`
- 需手动关闭
- 显示具体错误信息

### 8.2 动画效果

#### 微交互动画
```css
/* 按钮悬停 */
.button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.2);
  transition: all 150ms ease;
}

/* 卡片悬停 */
.card:hover {
  background: var(--bg-hover);
  transition: background 100ms ease;
}

/* 数字跳动 */
@keyframes pulse-price {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}
```

#### 实时数据更新
- 价格变化: 短暂高亮 (绿/红)
- 新订单: 从顶部滑入
- 仓位平仓: 淡出动画

### 8.3 响应式行为

#### 桌面 (>1400px)
- 完整布局
- 悬停显示详细信息
- 快捷键支持 (B = 买入, S = 卖出)

#### 平板 (768-1400px)
- 网格缩小
- 部分信息折叠
- Touch 优化

#### 手机 (<768px)
- 垂直堆叠
- 全屏模式
- 底部固定操作栏
- 手势支持 (左右滑动切换标签)

### 8.4 确认对话框

**高风险操作** (杠杆 > 20x, 大额交易):
```
┌────────────────────────────────────┐
│  ⚠️  高风险操作确认                │
│                                    │
│  你即将开 50x 杠杆仓位:             │
│  • 金额: $1,000 USDT               │
│  • 强平价: $0.00085 (距离当前 5%)  │
│  • 预计费用: 5 USDT                │
│                                    │
│  高杠杆可能导致快速爆仓！           │
│                                    │
│  [ 取消 ]         [ 确认开仓 ]     │
└────────────────────────────────────┘
```

---

## 9. Pencil 具体操作

### 9.1 安装和设置

1. **启动 Pencil**
   ```
   打开 Pencil App
   ```

2. **创建新项目**
   ```
   File → New Document
   名称: "Meme Perp DEX UI"
   尺寸: Desktop (1600x900)
   ```

3. **设置颜色库**
   ```
   Tools → Color Palette
   添加本文档第 3 节的所有颜色
   ```

### 9.2 导入组件库

Pencil 内置组件:
- Desktop UI → Widgets
- Web UI Elements
- Icons (FontAwesome)

推荐额外下载:
- [Material Design Stencils](http://pencil.evolus.vn/Downloads/Stencils.html)
- [Bootstrap Components](http://pencil.evolus.vn/Downloads/Stencils.html)

### 9.3 绘制主页 - 分步指南

#### Step 1: 创建画布
```
1. 新建页面: "01-Home-TokenList"
2. 设置背景色: #0a0e16
3. 添加网格: 12px 间距
```

#### Step 2: 绘制导航栏
```
1. 拖入 Rectangle:
   - 宽度: 1600px
   - 高度: 64px
   - 背景: #12161f
   - 边框: 底部 1px #2d3748

2. 添加 Logo Text:
   - 字体: Inter Bold 20px
   - 文字: "Meme Perp DEX"
   - 颜色: #e8eaed
   - 位置: 左侧 24px

3. 添加导航链接:
   - 字体: Inter Medium 14px
   - 文字: "市场 | 交易 | 仓位 | 排行榜"
   - 颜色: #9ca3af
   - 悬停: #e8eaed

4. 添加 Button (右侧):
   - 文字: "连接钱包"
   - 背景: #3b82f6
   - 圆角: 8px
   - 尺寸: 120x40px
```

#### Step 3: 绘制榜单容器
```
1. 拖入 6 个 Rectangle (代表 6 个榜单):
   - 宽度: 240px
   - 高度: 600px
   - 背景: #181d28
   - 边框: 1px #2d3748
   - 圆角: 8px
   - 间距: 12px
   - 排列: 水平居中

2. 标题栏 (每个榜单顶部):
   - Rectangle: 240x40px
   - 背景: #1e2530
   - 边框: 底部 1px #2d3748
   - 文字: Inter Bold 14px, #e8eaed
   - Icon: 16x16px (使用 FontAwesome)
```

#### Step 4: 绘制代币卡片
```
1. 拖入 Rectangle (代表一个代币):
   - 宽度: 220px (留 10px 左右边距)
   - 高度: 60px
   - 背景: transparent
   - 悬停: #1e2530

2. 添加排名 (左侧):
   - Text: "1"
   - 字体: Inter Bold 12px
   - 颜色: #00c087 (前3名) / #6b7280 (其他)
   - 宽度: 20px

3. 添加图标 (Circle):
   - 直径: 24px
   - 背景: 插入图片或纯色
   - 边框: 1px #2d3748

4. 添加状态点 (小圆点):
   - Circle: 直径 8px
   - 颜色: #10b981 (可交易) / #f59e0b (未启用) / #6b7280 (链下)
   - 位置: 图标右下角

5. 添加代币符号:
   - Text: "PEPE"
   - 字体: Inter Medium 13px
   - 颜色: #e8eaed
   - 位置: 图标右侧 8px

6. 添加市值/涨跌幅 (右侧):
   - Text: "$1.2M" 或 "+12.5%"
   - 字体: JetBrains Mono 12px
   - 颜色: #9ca3af (市值) / #00c087 (涨) / #f23645 (跌)
   - 对齐: 右对齐
```

#### Step 5: 复制和排列
```
1. 选中代币卡片 → Ctrl+C → Ctrl+V
2. 复制 9 次 (每个榜单 10 个)
3. 垂直排列, 间距 0 (紧密排列)
4. Group 成一个组件: "TokenCard"
5. 复制到其他 5 个榜单
```

#### Step 6: 添加图标和图片
```
1. 使用 Pencil 内置 Icon 库:
   - 🔥 = FontAwesome "fire"
   - 🆕 = FontAwesome "star"
   - 📈 = FontAwesome "arrow-trend-up"
   - 📉 = FontAwesome "arrow-trend-down"
   - 💰 = FontAwesome "sack-dollar"
   - 📊 = FontAwesome "chart-simple"

2. 代币图标:
   - 使用 Image 组件
   - 导入真实 logo 或用 Circle 占位
```

### 9.4 绘制交易终端 - 分步指南

#### Step 1: 创建新页面
```
1. 新建页面: "02-Trading-Terminal"
2. 背景: #0a0e16
3. 网格: 8px
```

#### Step 2: 顶部信息栏
```
1. Rectangle:
   - 尺寸: 1600x60px
   - 背景: #12161f
   - 边框: 底部 1px #2d3748

2. 添加返回按钮:
   - Icon: "arrow-left"
   - Text: "返回"
   - 颜色: #9ca3af

3. 添加代币信息:
   - Text: "🐸 PEPE/USDT"
   - 字体: Inter Bold 16px

4. 添加价格:
   - Text: "$0.00085"
   - 字体: JetBrains Mono Bold 20px
   - 颜色: #e8eaed

5. 添加涨跌幅:
   - Text: "+12.5%"
   - 字体: JetBrains Mono 16px
   - 颜色: #00c087

6. 添加 24h 成交量:
   - Text: "24h Vol: $1.2M"
   - 字体: Inter Regular 14px
   - 颜色: #9ca3af
```

#### Step 3: K线图区域
```
1. Rectangle:
   - 尺寸: 800x500px
   - 背景: #0a0e16
   - 边框: 1px #2d3748
   - 位置: 左上

2. 占位符:
   - Text: "📈 TradingView Chart"
   - 居中显示
   - (实际开发中用 TradingView 库)

3. 时间周期按钮 (顶部):
   - Buttons: "1m | 5m | 15m | 1h | 4h | 1d"
   - 字体: Inter Medium 12px
   - 选中: #3b82f6 背景
   - 未选中: transparent
```

#### Step 4: 订单面板
```
1. Container Rectangle:
   - 尺寸: 400x500px
   - 背景: #181d28
   - 边框: 1px #2d3748
   - 圆角: 8px
   - 位置: 右上

2. 标签页 (顶部):
   - Buttons: "Market | Limit | Stop"
   - 高度: 40px

3. 方向切换:
   - 两个 Button: "Long | Short"
   - 高度: 50px
   - 选中做多: 背景 #00c08720, 边框 #00c087
   - 选中做空: 背景 #f2364520, 边框 #f23645

4. 金额输入框:
   - TextBox:
     - 尺寸: 360x48px
     - 背景: #12161f
     - 边框: 1px #2d3748
     - 占位符: "Enter amount..."
     - 右侧单位: "USDT"

5. 杠杆选择:
   - Dropdown:
     - 尺寸: 360x48px
     - 背景: #12161f
     - 选项: 1x, 2x, 5x, 10x, 20x, 50x

6. 杠杆滑块:
   - Slider:
     - 宽度: 360px
     - 轨道颜色: #2d3748
     - 滑块颜色: #3b82f6

7. 信息区域:
   - 多个 Text (标签 + 数值):
     - "Entry Price: $0.00085"
     - "Liq. Price: $0.00042" (红色)
     - "Est. Fee: 0.5 USDT"

8. 买入/卖出按钮:
   - Button:
     - 尺寸: 360x48px
     - 圆角: 8px
     - 做多背景: #00c087
     - 做空背景: #f23645
     - 文字: 黑色 Bold 16px
```

#### Step 5: 仓位列表
```
1. Container:
   - 尺寸: 800x400px
   - 背景: #181d28
   - 边框: 1px #2d3748
   - 位置: 左下

2. 表头:
   - Rectangle: 800x40px
   - 背景: #1e2530
   - 列: "代币 | 方向 | 大小 | 入场价 | 盈亏 | 保证金率 | 操作"

3. 仓位卡片 (见 6.3 节):
   - 复制仓位卡片设计
   - 垂直排列
```

#### Step 6: 订单簿
```
1. Container:
   - 尺寸: 400x400px
   - 背景: #181d28
   - 位置: 右下

2. 卖单区 (上半部分):
   - 多行 Text:
     - "$0.00087  150 USDT" (红色背景渐变)
     - "$0.00086  200 USDT"

3. 当前价格线:
   - Text: "$0.00085 (当前价)"
   - 字体: JetBrains Mono Bold 14px
   - 颜色: #3b82f6
   - 虚线分隔

4. 买单区 (下半部分):
   - 多行 Text:
     - "$0.00084  180 USDT" (绿色背景渐变)
     - "$0.00083  120 USDT"
```

### 9.5 导出和使用

#### 导出图片
```
File → Export → PNG
分辨率: 2x (Retina)
用途: 设计评审、演示
```

#### 导出 PDF
```
File → Export → PDF
用途: 打印、存档
```

#### 导出 HTML (有限)
```
Pencil 不直接生成代码
但可以作为视觉指南给开发者
```

---

## 10. AI 设计工具提示词

### 10.1 用于 v0.dev

```
Create a dark theme perpetual trading interface with:
- Color scheme: dark blue-black (#0a0e16) background
- 6-column token ranking grid (Hot, New, Gainers, Losers, Market Cap, Volume)
- Each column shows 10 tokens with icon, symbol, and 24h change
- Use green (#00c087) for gains, red (#f23645) for losses
- OKX-style professional trading UI
- TailwindCSS and shadcn/ui components
```

### 10.2 用于 Midjourney

```
professional crypto trading terminal interface, dark theme,
cyberpunk aesthetic, holographic charts, neon green and red accents,
6 column layout showing meme coin rankings,
ultra detailed, high contrast, minimalist design,
trading view style, OKX exchange inspired --ar 16:9 --v 6
```

---

## 11. 设计检查清单

在完成设计前,确保:

### 颜色
- [ ] 所有涨跌使用 `#00c087` / `#f23645`
- [ ] 背景至少 3 层深度 (primary → secondary → card)
- [ ] 文字对比度 > 4.5:1 (WCAG AA 标准)
- [ ] 强平价格醒目显示红色

### 字体
- [ ] 价格使用等宽字体 (JetBrains Mono)
- [ ] 正文使用 Inter
- [ ] 字号符合层级 (36px → 14px)
- [ ] 数字对齐 (右对齐或小数点对齐)

### 布局
- [ ] 关键信息一屏可见 (不需要滚动)
- [ ] 操作按钮位置固定
- [ ] 响应式断点: 768px, 1400px
- [ ] 网格对齐 (8px 或 12px)

### 组件
- [ ] 按钮有悬停/点击状态
- [ ] 输入框有聚焦状态
- [ ] 加载状态有骨架屏
- [ ] 错误状态有提示信息

### 数据
- [ ] 所有金额显示单位 (USDT, ETH)
- [ ] 百分比显示 +/- 符号
- [ ] 大数字使用 K/M 缩写
- [ ] 保留合理小数位 (价格 6 位, 百分比 2 位)

### 交互
- [ ] 高风险操作有确认弹窗
- [ ] 实时数据有动画反馈
- [ ] 错误提示可关闭
- [ ] Tooltip 显示详细信息

---

## 12. 参考截图和资源

### 参考产品截图
1. **OKX 永续合约**: https://www.okx.com/trade-swap
2. **Bybit 交易终端**: https://www.bybit.com/trade/usdt/BTCUSDT
3. **GMX 仓位管理**: https://app.gmx.io/
4. **Pump.fun 代币页**: https://pump.fun/

### 设计资源
- **图标库**: FontAwesome, Lucide, Heroicons
- **图表库**: TradingView, Lightweight Charts, Recharts
- **组件库**: shadcn/ui, Radix UI, Headless UI
- **字体**: Inter (Google Fonts), JetBrains Mono

### 灵感来源
- Dribbble: "crypto trading dashboard"
- Behance: "dark theme trading app"
- Awwwards: "fintech interface"

---

## 总结

这份设计简报包含:
- ✅ 完整的颜色和字体系统
- ✅ 详细的组件设计规范
- ✅ 分步 Pencil 操作指南
- ✅ 响应式设计规则
- ✅ AI 工具提示词

**立即开始**: 打开 Pencil, 按照第 9 节一步步绘制!

**有疑问?** 参考本项目现有代码:
- `frontend/src/app/perp/page.tsx`
- `frontend/src/components/trading/PerpetualOrderPanelV2.tsx`
- `frontend/tailwind.config.ts` (颜色定义)

---

**最后更新**: 2026-02-01
**设计师**: Claude Opus 4.5
**项目**: Meme Perp DEX
