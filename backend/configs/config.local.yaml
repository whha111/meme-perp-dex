# Local Development Configuration
# This file is automatically loaded when APP_ENV=local
# Override any settings from config.yaml here

server:
  addr: ":8080"
  mode: "debug"
  read_timeout: 10s
  write_timeout: 10s

database:
  host: "localhost"
  port: 5432
  user: "postgres"
  password: "${MEMEPERP_DATABASE_PASSWORD:-postgres}"  # Default for local only
  dbname: "memeperp"
  sslmode: "disable"  # OK for local development
  max_idle_conns: 10
  max_open_conns: 100
  max_lifetime: 1h

redis:
  addr: "localhost:6379"
  password: "${MEMEPERP_REDIS_PASSWORD:}"  # Empty password OK for local
  db: 0
  pool_size: 10

blockchain:
  # Base Sepolia Testnet
  rpc_url: "https://base-sepolia.g.alchemy.com/v2/Dr8sMe-1MYIF7jBYuZZj8PMOPAAeJ16d"
  chain_id: 84532  # Base Sepolia

  # Settlement contract V4
  position_address: "0x8dd0De655628c0E8255e3d6c38c3DF2BE36e4D8d"

matching_engine:
  # Matching Engine (TypeScript service) URL
  url: "http://localhost:8081"

  # Contract addresses
  router_address: ""
  vault_address: ""
  amm_address: ""
  liquidation_address: ""
  funding_rate_address: ""
  lending_pool_address: ""
  price_feed_address: "0x70dAC8f7338fFF15CAB9cE01e896e56a6C2FcF0A"

  # Keeper/Matcher private key
  private_key: "0xf9a07bb59ea400ef88bfbcf314d89f357c8580d1a4fb543e48cfb98b02b41d2c"

  # Indexer settings
  start_block: 0
  confirm_blocks: 1
  poll_interval: 1s

jwt:
  secret: "dev-jwt-secret-at-least-32-characters-long-for-testing"
  expiration: 24h

rate_limit:
  public_limit: 10000
  private_limit: 5000
  order_limit: 2000

security:
  allowed_origins:
    - "http://localhost:3000"
    - "http://localhost:3001"
    - "http://127.0.0.1:3000"
  trusted_proxies: []

log:
  level: "debug"
  format: "console"
  output: "stdout"
