# MemePerp DEX Environment Configuration
# Copy this file to .env and fill in the values

# ============================================================
# REQUIRED - Security Credentials
# ============================================================

# JWT Secret (min 32 characters)
MEMEPERP_JWT_SECRET=your-secure-jwt-secret-at-least-32-characters-long

# Database Password (NEVER use default in production)
MEMEPERP_DATABASE_PASSWORD=your-secure-database-password

# Blockchain Private Key (Keeper/Matcher wallet)
MEMEPERP_BLOCKCHAIN_PRIVATE_KEY=0x...

# Settlement Contract Address (from deployment)
MEMEPERP_BLOCKCHAIN_POSITION_ADDRESS=0x...

# Frontend Settlement Address (same as above)
NEXT_PUBLIC_SETTLEMENT_ADDRESS=0x...

# ============================================================
# Database Configuration
# ============================================================

MEMEPERP_DATABASE_USER=postgres
MEMEPERP_DATABASE_DBNAME=memeperp
MEMEPERP_DATABASE_HOST=localhost
MEMEPERP_DATABASE_PORT=5432

# ============================================================
# Redis Configuration
# ============================================================

MEMEPERP_REDIS_ADDR=localhost:6379
MEMEPERP_REDIS_PASSWORD=

# ============================================================
# Blockchain Configuration
# ============================================================

# Base Sepolia (Testnet)
MEMEPERP_BLOCKCHAIN_RPC_URL=https://base-sepolia-rpc.publicnode.com
MEMEPERP_BLOCKCHAIN_CHAIN_ID=84532

# Or Anvil Local (Development)
# MEMEPERP_BLOCKCHAIN_RPC_URL=http://127.0.0.1:8545
# MEMEPERP_BLOCKCHAIN_CHAIN_ID=31337

# Optional Contract Addresses
MEMEPERP_BLOCKCHAIN_VAULT_ADDRESS=
MEMEPERP_BLOCKCHAIN_PRICE_FEED_ADDRESS=
MEMEPERP_BLOCKCHAIN_LIQUIDATION_ADDRESS=
MEMEPERP_BLOCKCHAIN_FUNDING_RATE_ADDRESS=

# ============================================================
# Service URLs
# ============================================================

# Matching Engine URL (for Go Backend to proxy requests)
MEMEPERP_MATCHING_ENGINE_URL=http://localhost:8081

# Frontend API URLs
NEXT_PUBLIC_MATCHING_ENGINE_URL=http://localhost:8081
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_WS_PUBLIC_URL=ws://localhost:8080/ws/public
NEXT_PUBLIC_WS_PRIVATE_URL=ws://localhost:8080/ws/private

# ============================================================
# Matching Engine Configuration
# ============================================================

# Batch settlement interval (milliseconds)
MEMEPERP_BATCH_INTERVAL_MS=30000

# ============================================================
# Server Configuration
# ============================================================

# Server mode: debug, release
MEMEPERP_SERVER_MODE=debug

# CORS allowed origins (comma-separated for multiple)
MEMEPERP_SECURITY_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================
# Frontend Blockchain Configuration
# ============================================================

NEXT_PUBLIC_CHAIN_ID=84532
NEXT_PUBLIC_RPC_URL=https://base-sepolia-rpc.publicnode.com

# ============================================================
# Example: Production Configuration
# ============================================================

# For production, set:
# MEMEPERP_SERVER_MODE=release
# MEMEPERP_DATABASE_PASSWORD=<strong-password>
# MEMEPERP_JWT_SECRET=<random-64-char-string>
# MEMEPERP_SECURITY_ALLOWED_ORIGINS=https://yourdomain.com
# MEMEPERP_BLOCKCHAIN_RPC_URL=<your-dedicated-rpc-url>

# ============================================================
# Example: Local Development with Anvil
# ============================================================

# For local development with Anvil:
# MEMEPERP_BLOCKCHAIN_RPC_URL=http://127.0.0.1:8545
# MEMEPERP_BLOCKCHAIN_CHAIN_ID=31337
# MEMEPERP_BLOCKCHAIN_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
# MEMEPERP_BLOCKCHAIN_POSITION_ADDRESS=0x5FbDB2315678afecb367f032d93F642f64180aa3
# MEMEPERP_DATABASE_PASSWORD=postgres
# NEXT_PUBLIC_CHAIN_ID=31337
# NEXT_PUBLIC_RPC_URL=http://127.0.0.1:8545
# NEXT_PUBLIC_SETTLEMENT_ADDRESS=0x5FbDB2315678afecb367f032d93F642f64180aa3
